\documentclass[11pt]{exam}
\usepackage[margin=1in]{geometry}
\usepackage{amsfonts, amsmath, amssymb, amsthm}
\usepackage{mathtools}
\usepackage{enumerate}
\usepackage{listings}
\usepackage{colortbl}
\usepackage{float}
\usepackage[colorlinks,linkcolor=blue]{hyperref}

% in order to compile this file you need to get 'header.tex' from
% Canvas and change the line below to the appropriate file path
\input{header}

\geometry{left=2.5 cm,right=2.5 cm,top=2.5 cm,bottom=2.5 cm}
%\pagestyle{fancy}
\definecolor{mygreen}{rgb}{0,0.6,0}  
\definecolor{mygray}{rgb}{0.5,0.5,0.5}  
\definecolor{mymauve}{rgb}{0.58,0,0.82} 
\definecolor{background}{rgb}{0.963,0.963,0.963}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

\lstset{style=mystyle}
\newcommand{\hwnum}{0}
\newcommand{\duedate}{11:59pm, May 28th}

%\notesheader
\hwheader   % header for homework
%\hwslnheader   % header for homework solutions

% Comment the following line in order to hide solutions.
% Uncomment the line to show solutions written inside of
% LaTeX solution environments like:
%   \begin{solution}
%     My solution.
%   \end{solution}.
\printanswers

\begin{document}
\setlength{\parindent}{0pt}
\textbf{Before you start:}

You can download the starter files for coding as well as this \textit{tex} file (you only need to modify \textit{homework0.tex}) on canvas and do your homework with latex (recommended). Or you can scan your handwriting, convert to pdf file, and upload it to canvas before the due date. If you choose to write down your answers by hand, you can directly download the pdf file on canvas which provides more blank space for solution box.\\

For homework 0, you need to upload a \textbf{tar ball} with three files in the following format:
\begin{itemize}
\item VE281\_HW0\_[Your Student ID]\_[Your name].tar

$\lfloor$ VE281\_HW0\_[Your Student ID]\_[Your name].pdf

$\lfloor$ square.cpp

$\lfloor$ sortList.cpp
\end{itemize}

For all programming questions (question 3.2 and 3.3), you need to successfully compile your code, or otherwise you will at most get half of the whole score(we will give you partial points if you implement some of the functionalities). We will have some simple test cases to test whether your code can correctly work.

You must make sure that your code compiles successfully on a Linux operating system with g++ and the options:
\begin{lstlisting}[language=bash]
-std=c++1z -Wconversion -Wall -Werror -Wextra -pedantic
\end{lstlisting}

Estimated time used for this homework: \textbf{4-5 hours.}

\section*{0\quad Student Info}
Your name and student id:
\begin{solution}
% Write your answer here
\end{solution}

\section{Complexity Analysis}

\begin{enumerate}[(a)]

\item Based on the given code, answer the following questions:
\begin{lstlisting}[language=c++]
void question_1a(int n) {
	 int count = 0;
	 for (int i = 0; i < n; i++) {
	 	for (int j = i; j > 0; j--) {
	 		count += 1;
	 	}
	 }
	cout << count << endl;
}
\end{lstlisting}
\begin{enumerate}[i)]
\item What is the output? Describe the answer with variable $n$.
\item What is the time complexity of the following function? What do you find when comparing it with your answer of the previous part i)?
\end{enumerate}

\begin{solution}
% Write your answer here
\end{solution}

\item What is the time complexity of the following function?
\begin{lstlisting}[language=c++]
void question_1b(int N, int M, int C) {
	int count = 0;
	for (int i = 0; i < N; i += 2) {
		for (int j = 0; j < M / 2; j++) {
			count++;
		}
	}
	for (int i = 0; i < K; i++) {
		count--;
	}
}
\end{lstlisting}

\begin{solution}
% Write your answer here
\end{solution}

\item What is the time complexity of the following function? Select \textbf{All} the answers that are correct, and state your reason.
\begin{lstlisting}[language=c++]
void question_1c(int n) {
	int count = 0;
	int m = static_cast<int>(floor(sqrt(n)));
	for (int i = n/2; i < n; i++) {
		for (int j = 1; j < n; j = 2*j) {
			for (int k = 0; k < n; k += m) {
				count++;
			}
		}
	}
}
\end{lstlisting}
\begin{enumerate}[i)]
\item $\Theta(n^{1/2}\log n)$
\item $\Theta(n \log n)$
\item $O(n \log n)$
\item $\Theta(n^{3/2}\log n)$
\item $\Theta(n^2\log n)$
\item $O(n^{5/2}\log n)$
\item $\Theta(n^{5/2}\log n)$
\end{enumerate}
\begin{solution}
% Write your answer here
\end{solution}

\item What is the time complexity of the following function? Show your steps.
\begin{lstlisting}[language=c++]
int unknown_function(int n) {
	if (n <= 1) return 1;
	return n * (unknown_function(n-1));
}
\end{lstlisting}
\begin{solution}
% Write your answer here
\end{solution}

\item Consider the following four statements regarding algorithm complexities:
\begin{enumerate}[i)]
\item an algorithm with a $\Theta(n^2)$ time complexity will always run faster than an algorithm with a $\Theta(n \log n)$ time complexity.
\item an algorithm with a $\Theta(n \log n)$ time complexity will always run faster than an algorithm with a $\Theta(n^2)$ time complexity.
\item an algorithm with a $\Theta(n^2)$ time complexity will always run faster than an algorithm with a $\Theta(n!)$ time complexity.
\item an algorithm with a $\Theta(n!)$ time complexity will always run faster than an algorithm with a $\Theta(n^2)$ time complexity.
\end{enumerate}

How many of these statements are true? Show your reasons.
\begin{solution}
% Write your answer here
\end{solution}

\end{enumerate}

\section{Master Theorem}
\subsection{Recurrence Relation}
What is the complexity of the following recurrence relation? (if not mentioned, please state it with big-theta notation.)
\begin{enumerate}[(a)]

\item $T(n) = \left\{
\begin{aligned}
&c_0, &n=1\\
&4T\left(\dfrac{n}{2}\right)+16n+n^2+c, &n>1\\
\end{aligned}
\right.
$

\begin{solution}
% Write your answer here
\end{solution}

\item $T(n) = \left\{
\begin{aligned}
&c_0, &n=1\\
&5T\left(\dfrac{n}{25}\right)+\sqrt{n}+c, &n>1\\
\end{aligned}
\right.
$

\begin{solution}
% Write your answer here
\end{solution}

\item $T(n) = \left\{
\begin{aligned}
&c_0, &n=1\\
&3T(n-1)+c, &n>1\\
\end{aligned}
\right.
$ (Hint: Can you still use master theorem here?)
\begin{solution}
% Write your answer here
\end{solution}
\end{enumerate}

\subsection{Master Theorem on code}
Based on the function below, answer the following questions. \textbf{Assume that $cake(n)$ runs in $\log n$ time.}
\begin{lstlisting}[language=c++]
void pie(int n) {
	if (n == 1) {
		return;
	}
	pie(n / 7);
	int cookie = n * n;
	for (int i = 0; i < cookie; ++i) {
		for (int j = 0; j < n; ++j) {
			cake(n);
		}
	}
	for (int k = 0; k < n; ++k) {
		pie(n / 3);
	}
	cake(cookie * cookie);
}
\end{lstlisting}
\begin{enumerate}[(a)]
\item Calculate the recurrence relation of this function.
\item What is the complexity of the recurrence relation?

\end{enumerate}
\begin{solution}
% Write your answer here
\end{solution}

\section{Sorting Algorithms}

\subsection{Sorting Basics}
What is the most efficient sorting algorithm for each of the following situations and briefly explain:
\begin{enumerate}[(a)]
\item A small array of integers.
\item A large array of integers that is already almost sorted.
\item A large collection of integers that are drawn from a very small range.
\end{enumerate}
Try to state your explanation from the following perspectives: The number of swaps / copies / compares; Time complexity; special cases depend on input; ...
\begin{solution}
% Write your answer here
\end{solution}

\subsection{Squares of a Sorted Array}
Roihn is now doing his homework0 for VE281. He is given an integer array $A$ sorted in non-decreasing order, and is required to return an array of the squares of each number sorted in non-decreasing order \textbf{with insertion sort}.

Here is Roihn's code:
\begin{lstlisting}[language=c++]
#include <iostream>
using namespace std;

// REQUIRES: an array A and its size n
// EFFECTS: sort array A
// MODIFIES: array A
void insertion_sort(int *A, size_t size) {
    for (size_t i = 1; i < size; i++) {
        size_t j = 0;
        while (j < i && A[i] >= A[j]) {
            j++; // Find the location to insert the value
        }
        int tmp = A[i]; // Store the value we need to insert
        for (size_t k = i; k > j; k--) {
            A[k] = A[k-1];
        }
        A[j] = tmp;
    }
}

int main(){
    int A[5] = {-4, -1, 0, 3, 10};
    size_t sizeA = 5;
    for (size_t i = 0; i < sizeA; i++) { //Calculate the square of input array
        A[i] = A[i] * A[i];
    }
    insertion_sort(A, sizeA);
    for (auto item: A) {
        cout << item << ' ';
    }
    cout << endl;
    return 0;
}
\end{lstlisting}

However, he finds his code runs slowly when it encounters array with great length. Also, he guesses some operations maybe useless in his code because of the \textbf{special property of the input array}. Hence, he hopes that you can help him find out where he can improve his code. You can modify this code however you like and briefly state your reason for why you modify it in that way.

You can find the code above in the given starter file. Please modify the code above in \textit{square.cpp} file, and upload the file together to canvas. You can find more details for homework submission at the beginning of this homework.
\begin{solution}
(State your reason here)
% Write your answer here
\end{solution}

\subsection{List Sort}

Given the $head$ of a single linked list, return the list after sorting it in ascending order.

\textbf{Input format:} The first line of input is one variable $n$ ($0 \leq n < 500$), indicating the size(length) of the array; The second line is $n$ integers separated by space, which is the input link list $nums$. The first element in this line is the head value. It is guaranteed that all the integers are less than MAXINT. 

\textbf{Output format:} One line with sorted array.

\begin{itemize}
\item \textbf{Sample 1:}

Input:
\begin{lstlisting}[language=c++]
5
4 5 3 2 1
\end{lstlisting}

Output:
\begin{lstlisting}[language=c++]
1 2 3 4 5
\end{lstlisting}


\item \textbf{Sample 2:}

Input:
\begin{lstlisting}[language=c++]
9
1 2 3 4 5 6 8 7 8
\end{lstlisting}

Output:
\begin{lstlisting}[language=c++]
1 2 3 4 5 6 7 8 8
\end{lstlisting}
\end{itemize}

We have provided you the starter code for $listNode$ and related functions. You must use them for the whole question. The extra space complexity is required to be $O(1)$, which means you cannot use any other data structure (array, vector, etc.) to store your values.

You can use either type of sorting algorithm, but it is recommended to state your reason for why you choose that type of sorting for this question.

\begin{solution}
(State your reason here (Optional, not graded))
% Write your answer here
\end{solution}


\subsection{Quicker sort simulation}
To fully understand the mechanism of sorting algorithm, please simulate the given array for each iteration of required algorithm.

\subsubsection{Quick sort}

Assume that we always choose the \textbf{first entry} as the pivot to do the partition, and we want to sort the array in ascending order. Then, for the following array:
\begin{align*}
A = \{6, 2, 8, 10, 3, 1, 7\}
\end{align*}

Roihn shares his answer for this array:
\begin{solution}

\underline{\textbf{First iteration:}} Take $6$ as pivot. 

8 swaps with 1;

10 swaps with 3;

After swapping and placing pivot to proper place: $A_1 = \{3, 2, 1, 6, 10, 8, 9\}$

\underline{Next step: $A_{2,1} = \{3,2,1\}$, $A_{2,2} = \{10,8,9\}$.}

\underline{Then $A_1 = \{3,2,1,6,10,8,9\}$.}\\

\underline{\textbf{Second iteration:}} For $A_{2,1}$, take $3$ as pivot.

After swapping and placing pivot to proper place: $A_{2,1} = \{1,2,3\}$

\underline{Next step: $A_{3,1} = \{1,2\}$, $A_{3,2} = \{\}$.}

For $A_{2,2}$, take $10$ as pivot.

After swapping and placing pivot to proper place: $A_{2,2} = \{9,8,10\}$

\underline{Next step: $A_{3,3} = \{9,8\}$, $A_{3,4} = \{\}$.}

\underline{Then $A_{2} = \{1,2,3,6,9,8,10\}$.}\\

\underline{\textbf{Third iteration: }}For $A_{3,1}$, take $1$ as pivot.

After swapping and placing pivot to proper place: $A_{3,1} = \{1,2\}$

\underline{Next step: $A_{4,1} = \{\}$, $A_{4,2} = \{2\}$}

For $A_{3,2}$, skip it since it is an empty array or only has one element.

For $A_{3,3}$, take $9$ as pivot.

After swapping and placing pivot to proper place: $A_{3,3} = \{8,9\}$

\underline{Next step: $A_{4,5} = \{8\}$, $A_{4,6} = \{\}$}

For $A_{3,4}$, skip it since it is an empty array or only has one element.

\underline{Then $A_{3} = \{1,2,3,6,8,9,10\}$.}\\

\underline{\textbf{Forth iteration:}}  For $i\in [1,8]$, we can skip $A_{4,i}$ since it is an empty array or only contains one element.

\underline{Hence, $A_{4} = \{1,2,3,6,8,9,10\}$.}\\

\underline{Finally, we have sorted array $\{1,2,3,6,8,9,10\}$.}
\end{solution}

\textbf{The underlined part above is the required answer, while you can add more details to get partial points if your answer is incorrect.}

Now please simulate quick sort for the following array:
\begin{align*}
A = \{6, 2, 8, 5, 11, 10, 4, 1, 9, 7, 3\}
\end{align*}

\begin{solution}
% Write your answer here
\end{solution}

\subsubsection{Merge Sort}
For the following array:
\begin{align*}
A = \{6, 2, 8, 10, 3, 1, 7\}
\end{align*}

Roihn shares his answer for this array:
\begin{solution}

\underline{First division: $\{6,2,8\}\;\{10,3,1,7\}$}

\underline{Second division: $\{6\}\;\{2,8\}\;\{10,3\}\;\{1,7\}$}

\underline{Third division: $\{6\}\;\{2\}\;\{8\}\;\{10\}\;\{3\}\;\{1\}\;\{7\}$}\\

\underline{First merge: $\{6\}\;\{2,8\}\;\{3,10\}\;\{1,7\}$}

\underline{Second merge: $\{2,6,8\}\;\{1,3,7,10\}$}

\underline{Third merge: $\{1,2,3,6,7,8,10\}$}
\end{solution}

Now please simulate merge sort for the following array:
\begin{align*}
A = \{6, 2, 8, 5, 11, 10, 4, 1, 9, 7, 3\}
\end{align*}

\begin{solution}
% Write your answer here
\end{solution}

\section{Selection Algorithm}

\begin{enumerate}[(a)]
\item As we have learned in the lecture, partition takes $O(n)$ time complexity. In terms of random selection algorithm, in which case will we encounter the worst-case runtime? What is the worst-case runtime for random selection algorithm?

\item Do we have a sequence of input which guarantees that it can have the best-case runtime for random selection algorithm? What is the best-case runtime for random selection algorithm?

\item Deterministic selection algorithm guarantees its runtime to be $O(n)$ for every input array of length $n$. Given the assumption that there exists a positive constant $c$ that satisfies:
\begin{enumerate}[i)]
\item $T(1)\leq c$
\item $T(n) \leq cn + T\left(\dfrac{n}{5}\right) +  T\left(\dfrac{7n}{10}\right)$
\end{enumerate}

Then prove that $T(n) = O(n)$. (Please clearly show your steps in detail)
\end{enumerate}

\begin{solution}
% Write your answer here
\end{solution}


\end{document}

